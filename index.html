<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8" />
	<script src="vendors/scripts/angular.min.js"></script>
	<script src="resources/scripts/script.js"></script>
	<link rel="stylesheet" type="text/css" href="resources/css/style.css">
	<title>My AnjularJs Practice environment </title>
</head>

<body data-ng-app="myApp">
	<div data-ng-controller="MainController">
		<h1>{{message}}</h1>

		<!--		inner controller-->
		<div data-ng-controller="MyControllerTestingGET">

			<form name="searchUser" data-ng-submit="search(username)">
				<input type="search" placeholder="Username to find" data-ng-model="username" />
				<input type="submit" value="Search" />
			</form>
			<div data-ng-if="username.length > 0">
				<p>Search for {{username}}</p>
			</div>
			<div data-ng-if="!showSearchResult">
				<div>
					<div>First name: {{person.firstName}}</div>
					<div>Last name: {{person.lastName}}</div>
					<div>
						<img data-ng-src="{{person.imageSrc}}" title="{{person.firstName}} {{person.lastName}}">
					</div>
				</div>
				<br/>
				<h3>{{title}}</h3>
				<div>
					<!--user 1-->
					<div>User 1</div>
					<div>Name: {{user.name}}</div>
					<div>
						<img data-ng-src="{{user.avatar_url}}" title="{{user.name}}">
					</div>
					<br/>
					<!--User 2-->
					<div>User 2</div>
					<div>Name: {{user2.name}}</div>
					<div>
						<img data-ng-src="{{user2.avatar_url}}" title="{{user2.name}}">
					</div>
					<br/>
					<!--User 3-->
					<div>{{error}}</div>
					<div>User 3</div>
					<div>Name: {{user3.name}}</div>
					<div>
						<img data-ng-src="{{user3.avatar_url}}" title="{{user3.name}}">
					</div>
				</div>
			</div>

			<div data-ng-if="showSearchResult">
				<div data-ng-if="showError">
					<h2 class="error">{{error}}</h2>
				</div>
				<h2>{{foundUser.name}}</h2>
				<img data-ng-src="{{foundUser.avatar_url}}" title="{{foundUser.name}}">
				<table>
					<thead>
						<tr>
							<td>Name</td>
							<td>Commits</td>
							<td>Stars</td>
							<td>Language</td>
							<td>Link</td>
						</tr>
					</thead>
					<h2>Repositories</h2>
					<tbody>
						<tr ng-repeat="repo in repositories">
							<td>{{repo.name}}</td>
							<td>{{myCommits[repo.full_name].length}}</td>
							<td>{{repo.stargazers_count | number}}</td>
							<td>{{repo.language}}</td>
							<td><a href="{{repo.html_url}}">{{repo.html_url}}</a></td>
						</tr>
					</tbody>

				</table>
			</div>

		</div>

	</div>
</body>

</html>
